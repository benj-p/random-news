<h1 class="home-header">What's new today?</h1>

<div data-controller="news">
  <div class="news-container" data-news-target="newsContainer" data-id=<%= @article.id %>>
    <h2 class="article-title" data-news-target="articleTitle"><%= @article.title %></h2>
    <div data-news-target="articleBody"><%= @article.short_body.html_safe %></div>

    <div class="message-container inactive" data-news-target="allRead">
      <h3>Well done</h3>
      <p>You've caught up on all of our most recent news!</p>
      <p>
        Want to help develop this web app ?<br/>
        Check our <%= link_to '<span class="left-icon-text no-underline"><i class="fa-brands fa-github"></i>Github repo</span>'.html_safe, 'https://github.com/benj-p/random-news' %>
      </p>
    </div>

    <div class="message-container inactive" data-news-target="loader">
      <div class="loader-dots">
        <div class="spinner-grow text-warning" role="status"></div>
        <div class="spinner-grow text-warning" role="status"></div>
        <div class="spinner-grow text-warning" role="status"></div>
      </div>
      <span>Looking for the best articles out there!</span>
      <span class="sr-only">Loading...</span>
    </div>
  </div>

  <div class="news-buttons">
    <%= link_to @article.url, class: 'button-primary', target: '_blank', data: {news_target: 'readMoreButton'} do %>
      <%= image_tag 'icons/view_more.png' %>
      Read more
    <% end %>
    <%= link_to '', class: 'button-primary', target: '_blank', data: {news_target: 'refreshButton', action: 'click->news#refresh'} do %>
      <%= image_tag 'icons/shuffle.png' %>
      Anything else?
    <% end %>
  </div>
</div>